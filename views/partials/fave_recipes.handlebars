<h1>Here are your favorite recipes: </h1>

<table id="recipe-table" class="table">
    <tr>
        <th>Name</th>
        <th>Image</th>
        <th>Ingredients</th>
        <th>Link to instruction</th>
        <th>Remove from favorites</th>
        <th>Remove from saved recipes</th>
    </tr>
    {{#each recipeDisplay}}
    <tr>
        <td>{{name}}</td>
        <td><img src="{{ image }}" class="recipeListImage" alt="Recipe image"></td>
        <td>{{ingredients}}</td>
        <td><a href="{{ instruction }}" target="_blank">{{ instruction }}</a></td>

        <td>
            <form class="deleteColumn" id="specialButton" action="/favorite_recipes/delete/{{_id}}" method="post"
                onsubmit="return confirmDelete('{{name}}', true)">
                <input type="hidden" name="removeFromFaves" value="false">
                <button type="submit">Remove from favorites</button>
            </form>
        </td>
        <td>
            <form class="deleteColumn" id="specialButton" action="/favorite_recipes/delete/{{_id}}" method="post"
                onsubmit="return confirmDelete('{{name}}', false)">
                <input type="hidden" name="removeFromSaved" value="true">
                <button type="submit">Remove from saved recipes</button>
            </form>
        </td>
    </tr>
    {{/each}}
</table>
<br>

<script>
    function confirmDelete(recipeName, removeFromFavorites) {
        var actionText = removeFromFavorites ? 'from your favorites' : 'from your recipes';
        var confirmation = confirm("Are you sure you want to remove the " + recipeName + " " + actionText + "?");
        if (confirmation) {
            return true;
        } else {
            return false;
        }
    }
</script>


<a href="/user_dashboard" aria-label="Cancel and go to user dashboard" class="button back-to-button">Back to user dashboard</a>
