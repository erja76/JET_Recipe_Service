<!-- Validation Error message-->
{{#if errors}}
<div aria-live="assertive" id="error-container" class="errors">
  <ul>
    {{#each errors}}
    <li>{{ this.msg }}</li>
    {{/each}}
  </ul>
</div>
{{/if}}

<div type="form" aria-label="Update user preferences form" class="form-card">
  <form id="updateForm" action="/update_user/{{userToBeUpdated._id}}" method="POST">
    <label for="name">Name:</label>
    {{userToBeUpdated.name}}<br>
    <br>
    <label for="password">Password:</label>
    <input type="password" name="password" placeholder="New password"><br>
    <br>
    <label for="email">Email:</label>
    {{userToBeUpdated.email}}<br>
    <br>

    {{#if showPasswordInput}}
    <input type="hidden" name="password" value="{{userToBeUpdated.password}}">
    {{/if}}

    {{> user_preferences}}

    <button type="submit">Update Preferences</button>
    <button type="button" aria-label="Cancel and go to user dashboard" onclick="window.location.href='/user_dashboard';">Cancel</button>
  </form>
</div>

<script>
  // Hide error message after 5 seconds
  setTimeout(function () {
    var errorContainer = document.getElementById('error-container');
    if (errorContainer) {
      errorContainer.style.display = 'none';
    }
  }, 5000); // 5000 ms = 5 sekuntia
</script>